<html>
<head>
    <title>InfiniteSequence</title>


<link rel="stylesheet" href="../my_tc.css">

</head>
<body>
<h1><a href="http://community.topcoder.com/tc?module=ProblemDetail&amp;rd=13504&amp;pm=9837">InfiniteSequence</a></h1>

<p><em>Single Round Match 413 Round 1 - Division II, Level Three</em></p>

<h2>Statement</h2>

<p>NOTE: This problem statement contains subscripts that may not display properly if viewed outside of the applet.</p>

<p>Let's consider an infinite sequence A defined as follows:</p>

<p>A0 = 1;
Ai = A[i/<em>p</em>] + A[i/<em>q</em>] for all i >= 1, where [x] denotes the floor function of x. (see Notes)</p>

<p>You will be given <em>n</em>, <em>p</em> and <em>q</em>. Return the <em>n</em>-th element of A (index is 0-based).</p>

<h2>Definitions</h2>

<ul>
<li><em>Class</em>: <code>InfiniteSequence</code></li>
<li><em>Method</em>: <code>calc</code></li>
<li><em>Parameters</em>: <code>long, int, int</code></li>
<li><em>Returns</em>: <code>long</code></li>
<li><em>Method signature</em>: <code>long calc(long n, int p, int q)</code></li>
</ul>


<h2>Notes</h2>

<ul>
<li>[x] denotes the floor function of x which returns the highest integer less than or equal to x. For example, [3.4] = 3, [0.6] = 0.</li>
</ul>


<h2>Constraints</h2>

<ul>
<li><em>n</em> will be between 0 and 10<sup>12</sup>, inclusive.</li>
<li><em>p</em> and <em>q</em> will both be between 2 and 10<sup>9</sup>, inclusive.</li>
</ul>


<h2>Examples</h2>

<h3>Example 1</h3>

<h4>Input</h4>

<p><c>0,<br />2,<br />3</c></p>

<h4>Output</h4>

<p><c>1</c></p>

<h4>Reason</h4>

<p>A[0] = 1.</p>

<h3>Example 2</h3>

<h4>Input</h4>

<p><c>7,<br />2,<br />3</c></p>

<h4>Output</h4>

<p><c>7</c></p>

<h4>Reason</h4>

<p>A[0] = 1;</p>

<p>A[1] = A[0] + A[0] = 2;</p>

<p>A[2] = A[1] + A[0] = 2 + 1 = 3;</p>

<p>A[3] = A[2] + A[1] = 3 + 2 = 5;</p>

<p>A[7] = A[3] + A[2] = 5 + 3 = 8.</p>

<h3>Example 3</h3>

<h4>Input</h4>

<p><c>10000000,<br />3,<br />3</c></p>

<h4>Output</h4>

<p><c>32768</c></p>

<h3>Example 4</h3>

<h4>Input</h4>

<p><c>256,<br />2,<br />4</c></p>

<h4>Output</h4>

<p><c>89</c></p>

<h3>Example 5</h3>

<h4>Input</h4>

<p><c>1,<br />1000000,<br />1000000</c></p>

<h4>Output</h4>

<p><c>2</c></p>

</body>
</html>