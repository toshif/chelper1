<html>
<head>
    <title>InfiniteSequence2</title>


<link rel="stylesheet" href="../my_tc.css">

</head>
<body>
<h1><a href="http://community.topcoder.com/tc?module=ProblemDetail&amp;rd=13504&amp;pm=9922">InfiniteSequence2</a></h1>

<p><em>Single Round Match 413 Round 1 - Division I, Level Two</em></p>

<h2>Statement</h2>

<p>NOTE: This problem statement contains subscripts that may not display properly if viewed outside of the applet.</p>

<p>Let's consider an infinite sequence A defined as follows:</p>

<p>Ai = 1 for all i &lt;= 0;
Ai = A[i/<em>p</em>]-<em>x</em> + A[i/<em>q</em>]-<em>y</em> for all i >= 1, where [x] denotes the floor function of x. (see Notes)</p>

<p>You will be given <em>n</em>, <em>p</em>, <em>q</em>, <em>x</em> and <em>y</em>. Return the <em>n</em>-th element of A (index is 0-based).</p>

<h2>Definitions</h2>

<ul>
<li><em>Class</em>: <code>InfiniteSequence2</code></li>
<li><em>Method</em>: <code>calc</code></li>
<li><em>Parameters</em>: <code>long, int, int, int, int</code></li>
<li><em>Returns</em>: <code>long</code></li>
<li><em>Method signature</em>: <code>long calc(long n, int p, int q, int x, int y)</code></li>
</ul>


<h2>Notes</h2>

<ul>
<li>[x] denotes the floor function of x which returns the highest integer less than or equal to x. For example, [3.4] = 3, [0.6] = 0.</li>
</ul>


<h2>Constraints</h2>

<ul>
<li><em>n</em> will be between 0 and 10<sup>13</sup>, inclusive.</li>
<li><em>p</em> and <em>q</em> will both be between 2 and 10<sup>9</sup>, inclusive.</li>
<li><em>x</em> and <em>y</em> will both be between 0 and 10<sup>9</sup>, inclusive.</li>
</ul>


<h2>Examples</h2>

<h3>Example 1</h3>

<h4>Input</h4>

<p><c>10000000,<br />2,<br />3,<br />10000000,<br />10000000</c></p>

<h4>Output</h4>

<p><c>2</c></p>

<h4>Reason</h4>

<p>A[10000000] = A[-5000000] + A[-6666667] = 2.</p>

<h3>Example 2</h3>

<h4>Input</h4>

<p><c>12,<br />2,<br />3,<br />1,<br />0</c></p>

<h4>Output</h4>

<p><c>8</c></p>

<h3>Example 3</h3>

<h4>Input</h4>

<p><c>0,<br />2,<br />2,<br />0,<br />0</c></p>

<h4>Output</h4>

<p><c>1</c></p>

<h4>Reason</h4>

<p>A[0] = 1.</p>

<h3>Example 4</h3>

<h4>Input</h4>

<p><c>123,<br />45,<br />67,<br />8,<br />9</c></p>

<h4>Output</h4>

<p><c>2</c></p>

</body>
</html>